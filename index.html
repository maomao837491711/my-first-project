<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">  
    <title>å¸‚åœºå‘¨æœŸç›‘æ§</title>  
      
    <!-- å›¾æ ‡ -->  
    <link rel="icon" href="https://maomao837491711.github.io/jianban/jianbanlogo2.png">  
    <link rel="apple-touch-icon" sizes="180x180" href="https://maomao837491711.github.io/jianban/jianbanlogo2.png">  
      
    <!-- Web App è®¾ç½® -->  
    <meta name="apple-mobile-web-app-capable" content="yes">  
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">  
    <meta name="theme-color" content="#0d1117">  
  
    <style>  
        body { background-color: #0d1117; color: #c9d1d9; font-family: -apple-system, "SF Pro Text", sans-serif; margin: 0; padding: 20px 15px; display: flex; flex-direction: column; align-items: center; }  
        h1 { font-size: 1.2rem; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; }  
        .container { width: 100%; max-width: 600px; display: flex; flex-direction: column; gap: 15px; }  
          
        /* å¡ç‰‡é€šç”¨æ ·å¼ */  
        .card { background: #161b22; border: 1px solid #30363d; border-radius: 12px; padding: 15px 20px; position: relative; overflow: hidden; }  
        .pred-card { border: 1px solid #d29922; background: linear-gradient(180deg, rgba(210, 153, 34, 0.05) 0%, #161b22 100%); }  
          
        /* æ–‡æœ¬è¡Œæ ·å¼ */  
        .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center; font-size: 0.9rem; }  
        .row:last-child { border-bottom: none; }  
        .label { color: #8b949e; }  
        .val { font-family: monospace; font-weight: bold; color: #e6edf3; }  
          
        /* é¢œè‰²å®šä¹‰ */  
        .green { color: #3fb950; }  
        .red { color: #ff7b72; }  
        .gold { color: #d29922; }  
        .blue { color: #58a6ff; }  
          
        /* è¿›åº¦æ¡å®¹å™¨ */  
        .progress-box { margin-top: 12px; background: #21262d; border-radius: 6px; height: 8px; overflow: hidden; width: 100%; }  
        .progress-fill { height: 100%; border-radius: 6px; transition: width 1s; display: block; }  
          
        /* å¼ºåˆ¶å®šä¹‰é¢œè‰²ï¼Œé˜²æ­¢JSå˜é‡å¤±æ•ˆ */  
        .bg-btc { background-color: #f7931a !important; }  
        .bg-ltc { background-color: #345d9d !important; }  
          
        /* å€’è®¡æ—¶å¤§å­— */  
        .timer-box { background: rgba(0,0,0,0.2); margin-top: 15px; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #30363d; }  
        .big-time { font-size: 1.5rem; font-weight: 800; color: #58a6ff; margin: 5px 0; letter-spacing: 0.5px; font-family: monospace; }  
          
        /* æŒ‰é’® */  
        .btn { margin-top: 30px; padding: 12px 30px; background: #238636; color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 1rem; cursor: pointer; }  
        .tip { font-size: 12px; color: #484f58; margin-top: 10px; }  
          
        /* å·¦ä¾§è£…é¥°æ¡ */  
        .card.btc { border-left: 4px solid #f7931a; }  
        .card.ltc { border-left: 4px solid #345d9d; }  
    </style>  
</head>  
<body>  
  
    <h1>ğŸ“Š å¸‚åœºå‘¨æœŸç›‘æ§</h1>  
  
    <div class="container">  
        <!-- 1. é¢„æµ‹å¡ç‰‡ -->  
        <div class="card pred-card">  
            <div class="row" style="border-bottom:none; padding-bottom:15px;">  
                <span class="gold">ğŸ”® å‘¨æœŸé¢„æµ‹</span>  
                <span id="today-date" style="font-size:0.8rem; color:#8b949e">--/--</span>  
            </div>  
            <div class="row"><span class="label">ğŸ‚ ç‰›å¸‚é¡¶ç‚¹æ—¥æœŸ</span><span class="val green">2025-10-06</span></div>  
            <div class="row"><span class="label">ğŸ» ç†Šå¸‚ä½ç‚¹æ—¥æœŸ</span><span class="val red">2026-10-05</span></div>  
            <div class="row"><span class="label">ğŸ“ˆ æœ¬è½®ç‰›å¸‚æœ€é«˜ä»·</span><span class="val gold">126,199 U</span></div>  
            <!-- æ‰¾å›äº† (-70%) -->  
            <div class="row"><span class="label">ğŸ“‰ é¢„æµ‹ç†Šå¸‚ä½ç‚¹ (-70%)</span><span class="val red">38,000 U</span></div>  
              
            <div style="margin:10px 0; border-top:1px dashed #30363d"></div>  
              
            <div class="row"><span class="label">è·ç¦»ç‰›å¸‚é¡¶ç‚¹å·²è¿‡</span><span class="val" id="peak-days">--</span></div>  
            <div class="row"><span class="label">è·ç¦»ç†Šå¸‚ä½ç‚¹</span><span class="val red" id="bear-days">--</span></div>  
            <!-- æ‰¾å›äº†è·Œå¹…ç™¾åˆ†æ¯” -->  
            <div class="row"><span class="label">è·ç¦»æœ€ä½ç‚¹è¿˜å·®</span><span class="val red" id="price-gap">è®¡ç®—ä¸­...</span></div>  
        </div>  
  
        <!-- 2. åŒºå—å¡ç‰‡åŒºåŸŸ -->  
        <div id="app"></div>  
    </div>  
  
    <button class="btn" onclick="refreshData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>  
    <div class="tip">æ¯ 10 åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°</div>  
  
    <script>  
        // === 1. æ—¥æœŸå’Œé™æ€æ•°æ® ===  
        function updateDate() {  
            var now = new Date();  
            document.getElementById('today-date').innerText = now.toLocaleDateString('zh-CN');  
  
            // è®¡ç®—å¤©æ•° (ä½¿ç”¨æœ€åŸå§‹çš„æ•°å­¦è®¡ç®—ï¼Œé˜²æ­¢å…¼å®¹æ€§é—®é¢˜)  
            var bullDate = new Date("2025-10-06").getTime();  
            var bearDate = new Date("2026-10-05").getTime();  
            var today = now.getTime();  
            var oneDay = 86400000;  
  
            // ç‰›å¸‚å¤©æ•°  
            var diffBull = Math.floor((bullDate - today) / oneDay);  
            var peakEl = document.getElementById('peak-days');  
            if (diffBull > 0) {  
                peakEl.innerHTML = diffBull + " å¤©";  
                peakEl.className = "val green";  
                peakEl.previousElementSibling.innerText = "è·ç¦»ç‰›å¸‚é¡¶ç‚¹è¿˜æœ‰";  
            } else {  
                peakEl.innerHTML = Math.abs(diffBull) + " å¤©";  
                peakEl.className = "val";  
                peakEl.previousElementSibling.innerText = "è·ç¦»ç‰›å¸‚é¡¶ç‚¹å·²è¿‡";  
            }  
  
            // ç†Šå¸‚å¤©æ•°  
            var diffBear = Math.ceil((bearDate - today) / oneDay);  
            document.getElementById('bear-days').innerText = diffBear + " å¤©";  
        }  
  
        // === 2. ä»·æ ¼é€»è¾‘ (æ‰¾å›ç™¾åˆ†æ¯”) ===  
        async function updatePrice() {  
            var gapEl = document.getElementById('price-gap');  
            var peakPrice = 126199;  
            try {  
                var res = await fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT');  
                var data = await res.json();  
                var price = parseFloat(data.price);  
                  
                // è®¡ç®—å·®ä»·  
                var diff = Math.floor(price - 38000);  
                // è®¡ç®—è·Œå¹… (æ‰¾å›ç™¾åˆ†æ¯”åŠŸèƒ½)  
                var drop = ((peakPrice - price) / peakPrice * 100).toFixed(2);  
                  
                if (diff > 0) {  
                    // ä½¿ç”¨ + å·æ‹¼æ¥ï¼Œæœç» $ ä¹±ç   
                    gapEl.innerText = diff.toLocaleString() + " U (å·²è·Œ" + drop + "%)";  
                } else {  
                    gapEl.innerText = "å·²è·Œç ´åº•ä»·!";  
                }  
            } catch (e) {  
                gapEl.innerText = "è¿æ¥ä¸­...";  
            }  
        }  
  
        // === 3. åŒºå—é€»è¾‘ (ä¿®å¤è¿›åº¦æ¡å’Œä¹±ç ) ===  
        // ä¸ºäº†ç»å¯¹ç¨³å®šï¼Œé¢œè‰²ä¸å†ç”¨å˜é‡ä¼ ï¼Œç›´æ¥å†™æ­»åœ¨ CSS ç±»é‡Œ  
        var COINS = [  
            { id: 'btc', name: 'Bitcoin', symbol: 'BTC', halving: 1050000, last: 840000, time: 600, api: 'https://mempool.space/api/blocks/tip/height', cssClass: 'bg-btc' },  
            { id: 'ltc', name: 'Litecoin', symbol: 'LTC', halving: 3360000, last: 2520000, time: 150, api: 'https://api.blockcypher.com/v1/ltc/main', cssClass: 'bg-ltc' }  
        ];  
  
        async function updateBlocks() {  
            var container = document.getElementById('app');  
            var html = '';  
  
            for (var i = 0; i < COINS.length; i++) {  
                var coin = COINS[i];  
                var height = 0;  
                var error = false;  
  
                try {  
                    var res = await fetch(coin.api);  
                    var data = await res.json();  
                    if (typeof data === 'number') height = data;  
                    else if (data.height) height = data.height;  
                } catch (e) {  
                    error = true;  
                }  
  
                if (error || height === 0) {  
                    html += '<div class="card"><div class="row"><span class="val">' + coin.name + '</span><span class="label">åŠ è½½ä¸­...</span></div></div>';  
                    continue;  
                }  
  
                // è®¡ç®—é€»è¾‘  
                var left = Math.max(0, coin.halving - height);  
                var totalSeconds = left * coin.time;  
                  
                // è¿›åº¦æ¡ç™¾åˆ†æ¯”  
                var totalSpan = coin.halving - coin.last;  
                var doneSpan = height - coin.last;  
                var percent = ((doneSpan / totalSpan) * 100);  
                if(percent > 100) percent = 100;  
                if(percent < 0) percent = 0;  
                var percentStr = percent.toFixed(2) + "%";  
  
                // å€’è®¡æ—¶æ–‡å­— (ä½¿ç”¨ + å·æ‹¼æ¥ï¼Œä¿®å¤ $ ä¹±ç )  
                var days = Math.floor(totalSeconds / 86400);  
                var hours = Math.floor((totalSeconds % 86400) / 3600);  
                var timeText = days + "å¤© " + hours + "æ—¶";  
  
                // é¢„è®¡æ—¥æœŸ  
                var dateObj = new Date(new Date().getTime() + totalSeconds * 1000);  
                var dateStr = dateObj.getFullYear() + "/" +   
                              (dateObj.getMonth()+1).toString().padStart(2,'0') + "/" +   
                              dateObj.getDate().toString().padStart(2,'0') + " " +  
                              dateObj.getHours().toString().padStart(2,'0') + ":" +   
                              dateObj.getMinutes().toString().padStart(2,'0');  
  
                // HTML æ‹¼æ¥ (æœ€åŸå§‹å†™æ³•ï¼Œæœ€å®‰å…¨)  
                html += '<div class="card ' + coin.id + '">';  
                  
                // æ ‡é¢˜è¡Œ  
                html += '<div class="row" style="margin-bottom:10px">';  
                html += '<span style="font-size:1.3rem; font-weight:bold; color:white">' + coin.name + '</span>';  
                html += '<span style="background:#30363d; padding:2px 6px; border-radius:4px; font-size:0.8rem">' + coin.symbol + '</span>';  
                html += '</div>';  
  
                // é«˜åº¦è¡Œ  
                html += '<div class="row"><span class="label">å½“å‰é«˜åº¦:</span><span class="val">#' + height.toLocaleString() + '</span></div>';  
                html += '<div class="row"><span class="label">å‡åŠé«˜åº¦:</span><span class="val">#' + coin.halving.toLocaleString() + '</span></div>';  
  
                // è¿›åº¦æ¡ (ä¿®å¤ï¼šä½¿ç”¨ CSS class å¼ºåˆ¶é¢œè‰²)  
                html += '<div class="progress-box">';  
                html += '<div class="progress-fill ' + coin.cssClass + '" style="width:' + percentStr + '"></div>';  
                html += '</div>';  
                html += '<div style="text-align:right; font-size:12px; color:#8b949e; margin-top:4px">' + percentStr + '</div>';  
  
                // å€’è®¡æ—¶å¤§æ¡†  
                html += '<div class="timer-box">';  
                html += '<div class="label" style="font-size:0.9rem">é¢„è®¡å‡åŠå€’è®¡æ—¶</div>';  
                html += '<div class="big-time">' + timeText + '</div>';  
                html += '<div class="label" style="font-size:0.8rem">é¢„è®¡: ' + dateStr + '</div>';  
                html += '</div>';  
  
                html += '</div>'; // end card  
            }  
              
            container.innerHTML = html;  
        }  
  
        function refreshData() {  
            updateDate();  
            updatePrice();  
            updateBlocks();  
        }  
  
        // å¯åŠ¨  
        refreshData();  
        setInterval(refreshData, 600000);  
  
    </script>  
</body>  
</html>  
