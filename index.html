<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">  
    <title>å¸‚åœºå‘¨æœŸç›‘æ§</title>  
    <link rel="icon" href="https://maomao837491711.github.io/jianban/jianbanlogo3.png">  
    <link rel="apple-touch-icon" sizes="180x180" href="https://maomao837491711.github.io/jianban/jianbanlogo3.png">  
    <meta name="apple-mobile-web-app-capable" content="yes">  
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">  
    <meta name="theme-color" content="#0d1117">  
  
    <style>  
        body { background-color: #0d1117; color: #c9d1d9; font-family: -apple-system, "SF Pro Text", sans-serif; margin: 0; padding: 20px 15px; display: flex; flex-direction: column; align-items: center; }  
        h1 { font-size: 1.2rem; margin-bottom: 20px; display: flex; align-items: center; gap: 8px; }  
        .container { width: 100%; max-width: 600px; display: flex; flex-direction: column; gap: 15px; }  
          
        .card { background: #161b22; border: 1px solid #30363d; border-radius: 12px; padding: 15px 20px; position: relative; overflow: hidden; }  
        .pred-card { border: 1px solid #d29922; background: linear-gradient(180deg, rgba(210, 153, 34, 0.05) 0%, #161b22 100%); }  
          
        .row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center; font-size: 0.9rem; }  
        .row:last-child { border-bottom: none; }  
        .label { color: #8b949e; }  
        .val { font-family: monospace; font-weight: bold; color: #e6edf3; }  
          
        .green { color: #3fb950 !important; }  
        .red { color: #ff7b72 !important; }  
        .gold { color: #d29922 !important; }  
        .white { color: #ffffff !important; }  
        .bright-red { color: #ff3333 !important; text-shadow: 0 0 10px rgba(255, 51, 51, 0.2); }  
          
        .bg-btc { background-color: #f7931a !important; }  
        .bg-ltc { background-color: #345d9d !important; }  
        .card.btc { border-left: 4px solid #f7931a; }  
        .card.ltc { border-left: 4px solid #345d9d; }  
  
        .progress-box { margin-top: 12px; background: #21262d; border-radius: 6px; height: 8px; overflow: hidden; width: 100%; }  
        .progress-fill { height: 100%; border-radius: 6px; transition: width 0.5s; display: block; width: 0%; }  
          
        .timer-box { background: rgba(0,0,0,0.2); margin-top: 15px; padding: 15px; border-radius: 8px; text-align: center; border: 1px solid #30363d; }  
        .big-time { font-size: 1.5rem; font-weight: 800; color: #58a6ff; margin: 5px 0; letter-spacing: 0.5px; font-family: monospace; }  
          
        .btn { margin-top: 30px; padding: 12px 30px; background: #238636; color: white; border: none; border-radius: 8px; font-weight: bold; font-size: 1rem; cursor: pointer; transition: opacity 0.2s; }  
        .btn:active { opacity: 0.8; }  
        .btn:disabled { background: #30363d; color: #8b949e; cursor: not-allowed; opacity: 1; }  
        .tip { font-size: 12px; color: #484f58; margin-top: 10px; }  
    </style>  
</head>  
<body>  
  
    <h1>ğŸ“Š å¸‚åœºå‘¨æœŸç›‘æ§</h1>  
  
    <div class="container">  
        <div class="card pred-card">  
            <div class="row" style="border-bottom:none; padding-bottom:15px;">  
                <span class="gold">ğŸ”® å‘¨æœŸé¢„æµ‹</span>  
                <span id="today-date" style="font-size:0.8rem; color:#8b949e">--/--</span>  
            </div>  
            <div class="row"><span class="label">ğŸ‚ ç‰›å¸‚é¡¶ç‚¹æ—¥æœŸ</span><span class="val green">2025-10-06</span></div>  
            <div class="row"><span class="label">ğŸ» ç†Šå¸‚ä½ç‚¹æ—¥æœŸ</span><span class="val red">2026-10-05</span></div>  
            <div class="row"><span class="label">ğŸ“ˆ æœ¬è½®ç‰›å¸‚æœ€é«˜ä»·</span><span class="val green">126,199 U</span></div>  
            <div class="row"><span class="label">ğŸ“‰ é¢„æµ‹ç†Šå¸‚ä½ç‚¹ (-70%)</span><span class="val red">38,000 U</span></div>  
            <div style="margin:10px 0; border-top:1px dashed #30363d"></div>  
            <div class="row"><span class="label">è·ç¦»ç‰›å¸‚é¡¶ç‚¹å·²è¿‡</span><span class="val" id="peak-days">--</span></div>  
            <div class="row"><span class="label">è·ç¦»ç†Šå¸‚ä½ç‚¹</span><span class="val white" id="bear-days">--</span></div>  
            <div class="row"><span class="label">è·ç¦»æœ€ä½ç‚¹è¿˜å·®</span><span class="val bright-red" id="price-gap">åŠ è½½ä¸­...</span></div>  
        </div>  
  
        <div class="card btc">  
            <div class="row" style="margin-bottom:10px">  
                <span style="font-size:1.3rem; font-weight:bold; color:white">Bitcoin</span>  
                <span style="background:#30363d; padding:2px 6px; border-radius:4px; font-size:0.8rem">BTC</span>  
            </div>  
            <div class="row"><span class="label">å½“å‰é«˜åº¦:</span><span class="val" id="btc-height">...</span></div>  
            <div class="row"><span class="label">å‡åŠé«˜åº¦:</span><span class="val">#1,050,000</span></div>  
            <div class="progress-box"><div id="btc-prog-bar" class="progress-fill bg-btc"></div></div>  
            <div style="text-align:right; font-size:12px; color:#8b949e; margin-top:4px" id="btc-prog-txt">0.00%</div>  
            <div class="timer-box">  
                <div class="label" style="font-size:0.9rem">é¢„è®¡å‡åŠå€’è®¡æ—¶</div>  
                <div class="big-time" id="btc-timer">--å¤© --æ—¶</div>  
                <div class="label" style="font-size:0.8rem" id="btc-date">é¢„è®¡: --/--</div>  
            </div>  
        </div>  
  
        <div class="card ltc">  
            <div class="row" style="margin-bottom:10px">  
                <span style="font-size:1.3rem; font-weight:bold; color:white">Litecoin</span>  
                <span style="background:#30363d; padding:2px 6px; border-radius:4px; font-size:0.8rem">LTC</span>  
            </div>  
            <div class="row"><span class="label">å½“å‰é«˜åº¦:</span><span class="val" id="ltc-height">...</span></div>  
            <div class="row"><span class="label">å‡åŠé«˜åº¦:</span><span class="val">#3,360,000</span></div>  
            <div class="progress-box"><div id="ltc-prog-bar" class="progress-fill bg-ltc"></div></div>  
            <div style="text-align:right; font-size:12px; color:#8b949e; margin-top:4px" id="ltc-prog-txt">0.00%</div>  
            <div class="timer-box">  
                <div class="label" style="font-size:0.9rem">é¢„è®¡å‡åŠå€’è®¡æ—¶</div>  
                <div class="big-time" id="ltc-timer">--å¤© --æ—¶</div>  
                <div class="label" style="font-size:0.8rem" id="ltc-date">é¢„è®¡: --/--</div>  
            </div>  
        </div>  
    </div>  
  
    <button id="refresh-btn" class="btn" onclick="refreshAll()">ğŸ”„ åˆ·æ–°æ•°æ®</button>  
    <div class="tip">æ¯ 10 åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–°</div>  
  
    <script>  
        // === æ ¸å¿ƒä¼˜åŒ–ï¼šæé€Ÿè¶…æ—¶æ§åˆ¶ ===  
        async function fetchWithTimeout(url, ms = 2000) { // é»˜è®¤2ç§’è¶…æ—¶ï¼Œç»ä¸å‚»ç­‰  
            const controller = new AbortController();  
            const id = setTimeout(() => controller.abort(), ms);  
            try {  
                const response = await fetch(url, { signal: controller.signal });  
                clearTimeout(id);  
                return response;  
            } catch (error) {  
                clearTimeout(id);  
                throw error;  
            }  
        }  
  
        function updateDate() {  
            var now = new Date();  
            document.getElementById('today-date').innerText = now.toLocaleDateString('zh-CN');  
              
            var bullDate = new Date("2025-10-06").getTime();  
            var bearDate = new Date("2026-10-05").getTime();  
            var today = now.getTime();  
  
            var diffBull = Math.floor((bullDate - today) / 86400000);  
            var peakEl = document.getElementById('peak-days');  
            if (diffBull > 0) {  
                peakEl.innerHTML = diffBull + " å¤©";  
                peakEl.className = "val green";  
                peakEl.previousElementSibling.innerText = "è·ç¦»ç‰›å¸‚é¡¶ç‚¹è¿˜æœ‰";  
            } else {  
                peakEl.innerHTML = Math.abs(diffBull) + " å¤©";  
                peakEl.className = "val";  
                peakEl.previousElementSibling.innerText = "è·ç¦»ç‰›å¸‚é¡¶ç‚¹å·²è¿‡";  
            }  
  
            var diffBear = Math.ceil((bearDate - today) / 86400000);  
            document.getElementById('bear-days').innerText = diffBear + " å¤©";  
        }  
  
        // === ä»·æ ¼è·å–ï¼šæé€Ÿç‰ˆ ===  
        async function updatePrice() {  
            var gapEl = document.getElementById('price-gap');  
            gapEl.innerText = "åŒæ­¥ä¸­...";  
            var peakPrice = 126199;  
            var price = 0;  
              
            // é¡ºåºï¼šMempool (å¿«,å…ç¿») -> CoinCap (å…¨çƒ) -> Binance (éœ€ç¿»)  
            var apis = [  
                { url: 'https://mempool.space/api/v1/prices', type: 'mempool' },  
                { url: 'https://api.coincap.io/v2/assets/bitcoin', type: 'coincap' },  
                { url: 'https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT', type: 'binance' }  
            ];  
  
            for (var i = 0; i < apis.length; i++) {  
                try {  
                    var res = await fetchWithTimeout(apis[i].url, 2000); // 2ç§’è¶…æ—¶  
                    if (res.ok) {  
                        var data = await res.json();  
                        if (apis[i].type === 'mempool') price = parseFloat(data.USD);  
                        else if (apis[i].type === 'coincap') price = parseFloat(data.data.priceUsd);  
                        else if (apis[i].type === 'binance') price = parseFloat(data.price);  
                        if (price > 0) break;  
                    }  
                } catch (e) {}  
            }  
  
            if (price > 0) {  
                var diff = Math.floor(price - 38000);  
                var drop = ((peakPrice - price) / peakPrice * 100).toFixed(2);  
                gapEl.className = "val bright-red";   
                if (diff > 0) gapEl.innerText = diff.toLocaleString() + " U (å·²è·Œ" + drop + "%)";  
                else gapEl.innerText = "å·²è·Œç ´åº•ä»·!";  
            } else {  
                gapEl.innerText = "ç½‘ç»œç¨æ…¢";  
            }  
        }  
  
        // === BTC æ•°æ® ===  
        async function updateBTC() {  
            try {  
                var res = await fetchWithTimeout('https://mempool.space/api/blocks/tip/height', 3000);  
                var height = await res.json();  
                renderBlockData(height, 1050000, 840000, 600, 'btc');  
            } catch (e) {  
                document.getElementById('btc-height').innerText = "åŒæ­¥ä¸­...";  
            }  
        }  
  
        // === LTC æ•°æ® (å¢åŠ å¤‡ç”¨æºï¼Œé˜²æ­¢VPNä¸‹BlockCypherå¡æ­») ===  
        async function updateLTC() {  
            var height = 0;  
            var apis = [  
                { url: 'https://api.blockcypher.com/v1/ltc/main', type: 'cypher' }, // æ˜“è¢«VPNå¢™  
                { url: 'https://api.blockchair.com/litecoin/stats', type: 'blockchair' } // å¤‡ç”¨  
            ];  
  
            for(var i=0; i<apis.length; i++) {  
                try {  
                    var res = await fetchWithTimeout(apis[i].url, 2500); // 2.5ç§’è¶…æ—¶  
                    if(res.ok) {  
                        var data = await res.json();  
                        if(apis[i].type === 'cypher') height = data.height;  
                        else if(apis[i].type === 'blockchair') height = data.data.blocks;  
                        if(height > 0) break;  
                    }  
                } catch(e){}  
            }  
  
            if(height > 0) {  
                renderBlockData(height, 3360000, 2520000, 150, 'ltc');  
            } else {  
                document.getElementById('ltc-height').innerText = "VPNé™é€Ÿ";  
            }  
        }  
  
        function renderBlockData(height, halving, last, time, id) {  
            document.getElementById(id + '-height').innerText = '#' + height.toLocaleString();  
            var left = Math.max(0, halving - height);  
            var totalSeconds = left * time;  
            var percent = ((height - last) / (halving - last) * 100);  
            if(percent > 100) percent = 100; if(percent < 0) percent = 0;  
              
            document.getElementById(id + '-prog-bar').style.width = percent + "%";  
            document.getElementById(id + '-prog-txt').innerText = percent.toFixed(2) + "%";  
  
            var days = Math.floor(totalSeconds / 86400);  
            var hours = Math.floor((totalSeconds % 86400) / 3600);  
            document.getElementById(id + '-timer').innerText = days + "å¤© " + hours + "æ—¶";  
  
            var d = new Date(new Date().getTime() + totalSeconds * 1000);  
            var ds = d.getFullYear() + "/" + (d.getMonth()+1).toString().padStart(2,'0') + "/" + d.getDate().toString().padStart(2,'0') + " " + d.getHours().toString().padStart(2,'0') + ":" + d.getMinutes().toString().padStart(2,'0');  
            document.getElementById(id + '-date').innerText = "é¢„è®¡: " + ds;  
        }  
  
        async function refreshAll() {  
            var btn = document.getElementById('refresh-btn');  
            var oldText = btn.innerText;  
            btn.innerText = "â³";  
            btn.disabled = true;  
            btn.style.opacity = "0.8";  
  
            updateDate();  
            updatePrice();  
            updateBTC();  
            updateLTC();  
  
            setTimeout(function() {  
                btn.innerText = "âœ…";  
                setTimeout(function() {  
                    btn.innerText = oldText;  
                    btn.disabled = false;  
                    btn.style.opacity = "1";  
                }, 800);  
            }, 1000);  
        }  
  
        refreshAll();  
        setInterval(refreshAll, 600000);  
    </script>  
</body>  
</html>  
